---
layout:     post
title:      Saba EuroSys 2023
subtitle:   Rethinking Datacenter Network Allocation from Application’s Perspective
date:       2023-04-03
author:     Yiran
header-img: img/post-bg-road.jpg
catalog: true
tags:
    - Flow Scheduling
    - Machine Learning
    - Transport in Datacenter
---
 
提出应当按照应用对带宽的敏感度来分配网络带宽

### Background and Motivation

**传统方法**:按照最大最小公平分配带宽    

**Sensitivity to bandwidth in applications**:   
To assess the impact of network bandwidth on application performance, we profile different workloads in isolation and compute the completion time for different percentages of network bandwidth (25% and 75%)

<img width="550" height="550" src="/img/post-saba-1.png"/>

**Using sensitivity in bandwidth allocation**:  
The intuition is that by providing more bandwidth to the applications that are most sensitive, their completion time can be reduced without disadvantaging applications with low latency to network bandwidth.

**Why does the bandwidth sensitivity arise?**:    
本质上不同应用的通信阶段占比不同

<img width="550" height="900" src="/img/post-saba-1.png"/>


**Sensitivity-aware bandwidth allocation**:  
Therefore, in this paper, we argue that application sensitivity should be the primary factor driving network
bandwidth allocation rather than traditional network-level, application-agnostic metrics.  
面临的挑战:  
(1) Sensitivity Differentiation: An application-aware solution requires a robust approach to capture the application’s
sensitivity to network bandwidth.  
(2) Dynamism: At the datacenter scale, a multitude of applications will share the network, with new applications
arriving and others terminating or migrating over time. A bandwidth allocation mechanism must be able to handle such dynamism in a timely and resource-effective manner.    
(3) Practicality: To facilitate adoption and maximize generality, a bandwidth allocation scheme should not require
changes to deployed hardware and/or network protocols.

### Saba

<img width="900" height="550" src="/img/post-saba-3.png"/>

**Offline Profiler**: 

<img width="550" height="450" src="/img/post-saba-4.png"/>


**Controller**:   
1. ```Bandwidth Calculation```: The controller uses ***paths inforamtion of Saba-compliant flows passing through switches*** combined with the ***profiling result*** in the sensitivity table and determines the percentage of bandwidth to be allocated to the flows from each application at each switch output port in a way that minimizes the total slowdown across applications.  
2. ```Bandwidth Enforcement```  
3. ```Mapping Applications to Queues```

<img width="300" height="250" src="/img/post-saba-5.png"/>


**Saba Library**:  

<img width="550" height="350" src="/img/post-saba-6.png"/>


### Evaluation


<img width="550" height="400" src="/img/post-saba-7.png"/>

<img width="900" height="350" src="/img/post-saba-8.png"/>

<img width="550" height="400" src="/img/post-saba-9.png"/>



### Thinking


### 参考文献

[Saba: Rethinking Datacenter Network Allocation from Application’s Perspective](https://ease-lab.github.io/ease_website/pubs/SABA_EUROSYS23.pdf)
